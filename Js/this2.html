<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES6 study</title>
  </head>
  <body>
    <div>ES6 this의 이해와 차이점</div>
    <ul>
      <li>3. 함수 내부에서 사용하면 새로 생성되는 오브젝트를 뜻함 "constructor" 문법</li>
      <li>4. eventlistener 안에서 쓰면 this는 e.currentTarget이라는 의미</li>
      <li>5. case study 1, 콜백함수에서의 this</li>
      <li>5. case study 2, 오브젝트 내에서의 this</li>
      <li>5. case study 3, arrow function 안에서의 this</li>
    </ul>
    <button id="btn">버튼</button>
    <script>
      /*------------------ 3 --------------------*/

      function practice() { //constructor
        this.name = "park";
      }

      let obj = new practice();
      console.log(obj);

      /*------------------ 4 --------------------*/

      document.getElementById("btn").addEventListener("click", function (e) {
        // console.log(this);
        // console.log(e.currentTarget);
        let arr=[1,2,3];
        arr.forEach(function(a){ // 3번 반복하는 구조로 작성됨
          console.log(a);
          console.log(this); /*------------------ 5 --------------------*/ 
        });
      });

      /*------------------ 6 --------------------*/

      var obj2 = {
        names : ['김', '이', '박'],
        func : function(){
          console.log(this)
          obj2.names.forEach(function(){
            console.log(this)
          })
        },
        func2 : function(){
          obj2.names.forEach(()=>{ // arrow function 특징 : 내부 this값을 변화 시키지 않음
            console.log(this)
          })
        }
      }

      obj2.func2();
    </script>
  </body>
</html>
